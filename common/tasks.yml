---
tasks:

  get_commit_sha:
    task: get-commit-sha
    config: (( load "tasks/get-commit-sha.yml" ))
    input_mapping:
      source: (( grab repository.name ))

  load_var_from_git:
    load_var: commit
    file: commit-sha/value
    format: trim
    reveal: true

  load_var_from_pull_request:
    load_var: commit
    file: pull-request/.git/resource/head_sha
    format: trim
    reveal: true
